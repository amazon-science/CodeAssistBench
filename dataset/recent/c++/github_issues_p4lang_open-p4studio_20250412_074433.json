[
  {
    "number": 79,
    "title": "hw/rdc_setup.sh: fix typos, add missing files",
    "created_at": "2025-02-21T11:02:00Z",
    "closed_at": "2025-02-25T08:05:52Z",
    "commit_id": "e01a18770520220ae0e482fc50d6019924c23ad6",
    "labels": [],
    "url": "https://github.com/p4lang/open-p4studio/pull/79",
    "body": "This PR contains the changes that I found necessary for building the project for the Tofino reference platforms.\r\n\r\nApart from some obvious typos and missing directories for source and header files, it appears to me that the `libavago` pre-built binaries need to be copied as well.\r\n",
    "comments_url": "https://api.github.com/repos/p4lang/open-p4studio/issues/79/comments",
    "author": "alexandergall",
    "comments": [
      {
        "user": "jafingerhut",
        "created_at": "2025-02-21T16:51:02Z",
        "body": "@vgurevich @pkotikal Would one of you be able to try this out?  I do not think Fabian has access to the proprietary Intel software to try this out, and I do not."
      },
      {
        "user": "vgurevich",
        "created_at": "2025-02-21T16:59:51Z",
        "body": "@jafingerhut -- I do not have access to Tofino HW at the moment. But I'd trust @alexandergall :) I was also surprised seeing the `avago` directory missing in the original code, so this makes sense to me for sure."
      },
      {
        "user": "jafingerhut",
        "created_at": "2025-02-21T17:03:32Z",
        "body": "> @jafingerhut -- I do not have access to Tofino HW at the moment. But I'd trust @alexandergall :) I was also surprised seeing the `avago` directory missing in the original code, so this makes sense to me for sure.\r\n\r\nI was mainly thinking of trying out the script with the mix of open-p4studio and proprietary Intel software to see if the script runs without error.  Testing it on hardware afterwards is of course ideal, but verifying that the script actually runs for one more person other than the one who wrote it is a far better check than only the one person who wrote it.\r\n\r\nIf that isn't possible, no worries.  Just hoping for at least a _little bit_ of testing or review on this."
      },
      {
        "user": "pkotikal",
        "created_at": "2025-02-21T17:05:02Z",
        "body": "@ansamalintel, can you please look into this? "
      },
      {
        "user": "vgurevich",
        "created_at": "2025-02-21T18:18:42Z",
        "body": "@jafingerhut -- I decided to give it a try, but one thing I can see right away is that the instructions in the `README.md` are kinda incomplete and the script will require further enhancements for usability. Let me try to build the way I think it **should** work and we'll see what will happen. "
      },
      {
        "user": "vgurevich",
        "created_at": "2025-02-21T18:53:48Z",
        "body": "I followed the instructions the best I could, specifically:\r\n\r\n1. Extracted the contents of the SDE package `bf-drivers-9.13.3` into `/tmp` (that's the step that seems to be missing in the` README.md`)\r\n\r\n```bash\r\ncd /tmp\r\ntar xzvf ~/bf-sde-9.13.3/packages/bf-drivers-9.13.3.tgz\r\n```\r\n\r\n2. Edited the file `~/op4-rdc/open-p4studio/hw/rdc.setup.sh` as described, specifically:\r\n\r\n```bash\r\nRDC_BFD=\"/tmp/bf-drivers-9.13.3\"\r\nOS_BFD=\"/home/ubuntu/op4-rdc/open-p4studio/pkgsrc/bf-drivers\"\r\n```\r\n\r\n3. Copied the files using the procedure, described in `README.md`, specifically:\r\n\r\n```bash\r\nsource rdc_setup.sh\r\nrdc_setup\r\n```\r\n\r\nThe copying went well, without any error messages:\r\n\r\n```bash\r\nubuntu@ip-172-31-32-12:~/op4-rdc/open-p4studio/hw$ source rdc_setup.sh \r\nubuntu@ip-172-31-32-12:~/op4-rdc/open-p4studio/hw$ rdc_setup \r\nCopying src/alphawave\r\nCopying src/credo\r\nCopying src/avago\r\nCopying src/microp\r\nCopying include/avago/aapl.h\r\nCopying include/avago/avago_aapl.h\r\nCopying include/avago/avago_dox.h\r\nCopying src/port_mgr/csr\r\nCopying src/port_mgr/crdo\r\nCopying src/port_mgr/aw-gen\r\nCopying src/port_mgr/t3-csr\r\nCopying src/port_mgr/CMakeLists.txt\r\nCopying src/port_mgr/bf_ll_umac3_if.c\r\nCopying src/port_mgr/bf_ll_umac4_if.c\r\nCopying src/port_mgr/port_mgr_dev.c\r\nCopying src/port_mgr/port_mgr_physical_dev.h\r\nCopying src/port_mgr/port_mgr_umac_access.c\r\nCopying src/port_mgr/port_mgr_tof1/bf_serdes_if.c\r\nCopying src/port_mgr/port_mgr_tof1/comira_reg_access_autogen.c\r\nCopying src/port_mgr/port_mgr_tof1/comira_reg_access_autogen.h\r\nCopying src/port_mgr/port_mgr_tof1/comira_reg_def_autogen.h\r\nCopying src/port_mgr/port_mgr_tof1/comira_reg_strs.h\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_av_sd.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_av_sd.h\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_av_sd_an.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_av_sd_an.h\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_mac.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_port_diag.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_serdes.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_serdes_diag.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_serdes_sbus_map.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_ucli.c\r\nCopying src/port_mgr/port_mgr_tof1/bf_fsm_hdlrs.c\r\nCopying src/port_mgr/port_mgr_tof2/autogen-required-headers.h\r\nCopying src/port_mgr/port_mgr_tof2/bf_ll_eth100g_reg_rspec_if.c\r\nCopying src/port_mgr/port_mgr_tof2/bf_ll_eth400g_mac_rspec_if.c\r\nCopying src/port_mgr/port_mgr_tof2/bf_ll_eth400g_pcs_rspec_if.c\r\nCopying src/port_mgr/port_mgr_tof2/bf_ll_serdes_if.c\r\nCopying src/port_mgr/port_mgr_tof2/bf_tof2_serdes_if.c\r\nCopying src/port_mgr/port_mgr_tof2/credo_sd_access.c\r\nCopying src/port_mgr/port_mgr_tof2/credo_sd_access.h\r\nCopying src/port_mgr/port_mgr_tof2/eth100g_reg_rspec_access.c\r\nCopying src/port_mgr/port_mgr_tof2/eth400g_mac_rspec_access.c\r\nCopying src/port_mgr/port_mgr_tof2/eth400g_pcs_rspec_access.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_bandgap.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_gpio.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_microp.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_serdes.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_umac.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_umac3.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_umac4.c\r\nCopying src/port_mgr/port_mgr_tof2/umac3c4_access.c\r\nCopying src/port_mgr/port_mgr_tof2/umac3c4_fld_access.c\r\nCopying src/port_mgr/port_mgr_tof2/umac4_ctrs.c\r\nCopying src/port_mgr/port_mgr_tof2/umac4_ctrs_str.c\r\nCopying src/port_mgr/port_mgr_tof2/umac4c8_access.c\r\nCopying src/port_mgr/port_mgr_tof2/umac4c8_fld_access.c\r\nCopying src/port_mgr/port_mgr_tof3/aw-reg-gen\r\nCopying src/port_mgr/port_mgr_tof3/aw_16ln\r\nCopying src/port_mgr/port_mgr_tof3/aw_4ln\r\nCopying src/port_mgr/port_mgr_tof3/aw_driver_sim.c\r\nCopying src/port_mgr/port_mgr_tof3/aw_driver_sim.h\r\nCopying src/port_mgr/port_mgr_tof3/aw_if.h\r\nCopying src/port_mgr/port_mgr_tof3/aw_io.c\r\nCopying src/port_mgr/port_mgr_tof3/aw_io.h\r\nCopying src/port_mgr/port_mgr_tof3/aw_mss.h\r\nCopying src/port_mgr/port_mgr_tof3/aw_reg_dbg.c\r\nCopying src/port_mgr/port_mgr_tof3/aw_reg_dbg.h\r\nCopying src/port_mgr/port_mgr_tof3/aw_types.h\r\nCopying src/port_mgr/port_mgr_tof3/aw_vector_types.h\r\nCopying src/port_mgr/port_mgr_tof3/bf_aw_pmd.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_aw_vfld_pmd.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_ll_tof3_eth400g_app_rspec_if.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_ll_tof3_eth400g_app_rspec_if.h\r\nCopying src/port_mgr/port_mgr_tof3/bf_ll_tof3_eth400g_mac_rspec_if.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_ll_tof3_eth400g_mac_rspec_if.h\r\nCopying src/port_mgr/port_mgr_tof3/bf_ll_tof3_eth400g_sys_rspec_if.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_ll_tof3_eth400g_sys_rspec_if.h\r\nCopying src/port_mgr/port_mgr_tof3/bf_tof3_serdes_if.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_tof3_serdes_utils.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_tof3_serdes_utils.h\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_dev.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_map.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_microp.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_port.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_serdes.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_serdes_map.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_tmac.c\r\nCopying src/port_mgr/port_mgr_tof3/svdpi.c\r\nCopying src/port_mgr/port_mgr_tof3/svdpi.h\r\nCopying src/port_mgr/port_mgr_tof3/tmac_access.c\r\nCopying src/port_mgr/port_mgr_tof3/tmac_access.h\r\nCopying src/port_mgr/port_mgr_tof3/tof3-autogen-required-headers.h\r\nCopying src/port_mgr/port_mgr_tof3/tof3_eth400g_app_rspec_access.c\r\nCopying src/port_mgr/port_mgr_tof3/tof3_eth400g_app_rspec_access.h\r\nCopying src/port_mgr/port_mgr_tof3/tof3_eth400g_mac_rspec_access.c\r\nCopying src/port_mgr/port_mgr_tof3/tof3_eth400g_mac_rspec_access.h\r\nCopying src/port_mgr/port_mgr_tof3/tof3_eth400g_sys_rspec_access.c\r\nCopying src/port_mgr/port_mgr_tof3/tof3_eth400g_sys_rspec_access.h\r\nCopying src/port_mgr/port_mgr_tof3/vfld_vec_name.h\r\nCopying src/port_mgr/port_mgr_tof3/vfld_vec_type.h\r\n```\r\n\r\n4. After that I tried to use `p4studio interactive` as is standard when configuring the SDE for a HW platform. Unfortunately, I got an exception:\r\n\r\n```\r\nubuntu@ip-172-31-32-12:~/op4-rdc/open-p4studio/p4studio$ ./p4studio interactive\r\nChecking system capabilities to build and install SDE:\r\n ?? Free space >= 20GB: 20.60GB\r\n ?? Free space in /tmp >= 2.5GB: 20.60GB\r\n ?? OS is supported: Ubuntu 20.04\r\n ?? Basic tools are installed: sudo ??\r\n\r\nDefault settings allow to run P4-16 examples for all tofino chip types on ASIC model.\r\nDo you want to install SDE using default settings (suitable for beginners)?: No\r\n   Yes\r\n> No\r\n\r\nDo you want to install missing third-party dependencies?: Yes\r\n> Yes\r\n   No\r\n\r\nPlease select deployment target: Hardware\r\n> Hardware\r\n   ASIC Model\r\n\r\nPlease select platform: montara/mavericks (tofino)\r\n> montara/mavericks (tofino)\r\n   newport (tofino2)\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"/usr/lib/python3.8/runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/ubuntu/op4-rdc/open-p4studio/p4studio/__main__.py\", line 26, in <module>\r\n    p4studio_main()\r\n  File \"/home/ubuntu/op4-rdc/open-p4studio/p4studio/main.py\", line 85, in p4studio_main\r\n    p4studio_cli.main(\r\n  File \"/home/ubuntu/op4-rdc/open-p4studio/p4studio/third_party/click/core.py\", line 782, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/home/ubuntu/op4-rdc/open-p4studio/p4studio/third_party/click/core.py\", line 1259, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/home/ubuntu/op4-rdc/open-p4studio/p4studio/third_party/click/core.py\", line 1066, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/home/ubuntu/op4-rdc/open-p4studio/p4studio/third_party/click/core.py\", line 610, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/home/ubuntu/op4-rdc/open-p4studio/p4studio/third_party/click/decorators.py\", line 21, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/home/ubuntu/op4-rdc/open-p4studio/p4studio/interactive/interactive_command.py\", line 86, in interactive_command\r\n    default=workspace.bsp_path(),\r\n  File \"/home/ubuntu/op4-rdc/open-p4studio/p4studio/workspace/sde_workspace.py\", line 67, in bsp_path\r\n    version = self._sde_version()\r\n  File \"/home/ubuntu/op4-rdc/open-p4studio/p4studio/workspace/sde_workspace.py\", line 76, in _sde_version\r\n    manifest_filename = Path(manifest_possible_file_paths[0]).name\r\nIndexError: list index out of range\r\n```\r\n\r\nI also tried with SDE-9.13.4, with the same result. :(\r\n"
      },
      {
        "user": "vgurevich",
        "created_at": "2025-02-21T18:56:45Z",
        "body": "The easy workaround is to create the manifest file, e.g.\r\n\r\n```bash\r\ntouch ~/open-p4studio/bf-sde-open-p4studio.manifest\r\n```\r\n\r\nIt might be useful to add it for better tool compatibility anyway."
      },
      {
        "user": "vgurevich",
        "created_at": "2025-02-21T21:30:24Z",
        "body": "Even after the workaround the build ended up in this failure:\r\n\r\n```\r\n2025-02-21 21:41:55,165: Begin bf-platforms setup\r\n2025-02-21 21:41:55,166: CMake Error at CMakeLists.txt:256 (add_subdirectory):\r\n2025-02-21 21:41:55,166:   add_subdirectory given source \"pkgsrc/bf-platforms\" which is not an\r\n2025-02-21 21:41:55,166:   existing directory.\r\n```\r\n\r\n@alexandergall -- did you use the `p4studio` tool or your own infra?\r\n@jafingerhut, @pkotikal  -- I tried on a regular `open-p4studio` (that did not have @alexandergall 's changes), but the result was worse -- the patching didn't go through:\r\n\r\n```\r\nubuntu@ip-172-31-32-12:~/open-p4studio/hw$ rdc_setup \r\nCopying src/alphawave\r\nCopying src/credo\r\nCopying src/firmware\r\ncp: cannot stat '/tmp/bf-drivers-9.13.3/src/firmware': No such file or directory\r\nCopying src/microp\r\nCopying src/port_mgr/csr\r\nCopying src/port_mgr/crdo\r\nCopying src/port_mgr/aw-gen\r\nCopying src/port_mgr/CMakeLists.txt\r\nCopying src/port_mgr/bf_ll_umac3_if.c\r\nCopying src/port_mgr/bf_ll_umac_4_if.c\r\ncp: cannot stat '/tmp/bf-drivers-9.13.3/src/port_mgr/bf_ll_umac_4_if.c': No such file or directory\r\nCopying src/port_mgr/port_mgr_dev.c\r\nCopying src/port_mgr/post_mgr_physical_dev.c\r\ncp: cannot stat '/tmp/bf-drivers-9.13.3/src/port_mgr/post_mgr_physical_dev.c': No such file or directory\r\nCopying src/port_mgr/port_mgr_umac_access.c\r\nCopying src/port_mgr/t3-csr/tf3-csr-gen.py\r\ncp: cannot create regular file '/home/ubuntu/open-p4studio/pkgsrc/bf-drivers/src/port_mgr/t3-csr/tf3-csr-gen.py': No such file or directory\r\nCopying src/port_mgr/port_mgr_tof1/bf_serdes_if.c\r\nCopying src/port_mgr/port_mgr_tof1/comira_reg_access_autogen.c\r\nCopying src/port_mgr/port_mgr_tof1/comira_reg_access_autogen.h\r\nCopying src/port_mgr/port_mgr_tof1/comira_reg_def_autogen.h\r\nCopying src/port_mgr/port_mgr_tof1/comira_reg_strs.h\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_av_sd.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_av_sd_an.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_mac.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_port_diag.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_serdes.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_serdes_diag.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_serdes_sbus_map.c\r\nCopying src/port_mgr/port_mgr_tof1/port_mgr_ucli.c\r\nCopying src/port_mgr/port_mgr_tof2/autogen-required-headers.h\r\nCopying src/port_mgr/port_mgr_tof2/bf_ll_eth100g_reg_rspec_if.c\r\nCopying src/port_mgr/port_mgr_tof2/bf_ll_eth400g_mac_rspec_if.c\r\nCopying src/port_mgr/port_mgr_tof2/bf_ll_eth400g_pcs_rspec_if.c\r\nCopying src/port_mgr/port_mgr_tof2/bf_ll_serdes_if.c\r\nCopying src/port_mgr/port_mgr_tof2/bf_tof2_serdes_if.c\r\nCopying src/port_mgr/port_mgr_tof2/credo_sd_access.c\r\nCopying src/port_mgr/port_mgr_tof2/credo_sd_access.h\r\nCopying src/port_mgr/port_mgr_tof2/eth100g_reg_rspec_access.c\r\nCopying src/port_mgr/port_mgr_tof2/eth400g_mac_rspec_access.c\r\nCopying src/port_mgr/port_mgr_tof2/eth400g_pcs_rspec_access.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_bandgap.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_gpio.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_microp.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_serdes.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_umac.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_umac3.c\r\nCopying src/port_mgr/port_mgr_tof2/port_mgr_tof2_umac4.c\r\nCopying src/port_mgr/port_mgr_tof2/umac3c4_access.c\r\nCopying src/port_mgr/port_mgr_tof2/umac3c4_fld_access.c\r\nCopying src/port_mgr/port_mgr_tof2/umac4_ctrs.c\r\nCopying src/port_mgr/port_mgr_tof2/umac4_ctrs_str.c\r\nCopying src/port_mgr/port_mgr_tof2/umac4c8_access.c\r\nCopying src/port_mgr/port_mgr_tof2/umac4c8_fld_access.c\r\nCopying src/port_mgr/port_mgr_tof3/aw-reg-gen\r\nCopying src/port_mgr/port_mgr_tof3/aw_16ln\r\nCopying src/port_mgr/port_mgr_tof3/aw_driver_sim.c\r\nCopying src/port_mgr/port_mgr_tof3/aw_driver_sim.h\r\nCopying src/port_mgr/port_mgr_tof3/aw_if.h\r\nCopying src/port_mgr/port_mgr_tof3/aw_io.c\r\nCopying src/port_mgr/port_mgr_tof3/aw_io.h\r\nCopying src/port_mgr/port_mgr_tof3/aw_mss.h\r\nCopying src/port_mgr/port_mgr_tof3/aw_reg_dbg.c\r\nCopying src/port_mgr/port_mgr_tof3/aw_reg_dbg.h\r\nCopying src/port_mgr/port_mgr_tof3/aw_types.h\r\nCopying src/port_mgr/port_mgr_tof3/aw_vector_types.h\r\nCopying src/port_mgr/port_mgr_tof3/bf_aw_pmd.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_aw_vfld_pmd.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_ll_tof3_eth400g_app_rspec_if.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_ll_tof3_eth400g_app_rspec_if.h\r\nCopying src/port_mgr/port_mgr_tof3/bf_ll_tof3_eth400g_mac_rspec_if.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_ll_tof3_eth400g_mac_rspec_if.h\r\nCopying src/port_mgr/port_mgr_tof3/bf_ll_tof3_eth400g_sys_rspec_if.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_ll_tof3_eth400g_sys_rspec_if.h\r\nCopying src/port_mgr/port_mgr_tof3/bf_tof3_serdes_if.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_tof3_serdes_utils.c\r\nCopying src/port_mgr/port_mgr_tof3/bf_tof3_serdes_utils.h\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_dev.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_map.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_microp.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_port.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_serdes.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_serdes_map.c\r\nCopying src/port_mgr/port_mgr_tof3/port_mgr_tof3_tmac.c\r\nCopying src/port_mgr/port_mgr_tof3/svdpi.c\r\nCopying src/port_mgr/port_mgr_tof3/svdpi.h\r\nCopying src/port_mgr/port_mgr_tof3/tmac_access.c\r\nCopying src/port_mgr/port_mgr_tof3/tmac_access.h\r\nCopying src/port_mgr/port_mgr_tof3/tof3-autogen-required-headers.h\r\nCopying src/port_mgr/port_mgr_tof3/tof3_eth400g_app_rspec_access.c\r\nCopying src/port_mgr/port_mgr_tof3/tof3_eth400g_app_rspec_access.h\r\nCopying src/port_mgr/port_mgr_tof3/tof3_eth400g_mac_rspec_access.c\r\nCopying src/port_mgr/port_mgr_tof3/tof3_eth400g_mac_rspec_access.h\r\nCopying src/port_mgr/port_mgr_tof3/tof3_eth400g_sys_rspec_access.c\r\nCopying src/port_mgr/port_mgr_tof3/tof3_eth400g_sys_rspec_access.h\r\nCopying src/port_mgr/port_mgr_tof3/vfld_vec_name.h\r\nCopying src/port_mgr/port_mgr_tof3/vfld_vec_type.h\r\n```"
      },
      {
        "user": "jafingerhut",
        "created_at": "2025-02-21T22:22:28Z",
        "body": "Many thanks for trying it out, Vlad, and the detailed feedback.  Hopefully Alexander can determine what changes to the PR might help.\r\n\r\n@alexdandergall I am not sure if you signed your git commit, e.g. using `git commit -s <additional options>`, but something like that is required in this and other p4lang repositories in order to pass the DCO check.  I see the DCO check \"pending\", not \"failed\", which I have not seen before, so if you already did that, hopefully the next commit the check will pass smoothly."
      },
      {
        "user": "vgurevich",
        "created_at": "2025-02-22T12:13:08Z",
        "body": "Just to summarize my review:\r\n\r\n1. The proposed changes are correct and necessary to get the patching going. The current `hw/rdc_setup.sh` script does not seem to be correct in the first place. Since this is the title of the pull request, I think it can be approved, since that's exactly what it does. \r\n2. Despite those changes, there are at least two more issues with the `p4studio` tool that prevent the actual build for the HW from happening. I am fairly certain that they are not related to the changes in this PR and have been there from the very beginning (@pkotikal -- was that tested in the first place)? W can file them separately and work on them in the due course.\r\n3. We can also file an enhancement request for the `hw/rdc_setup.sh` script, where instead of requiring the user to manually untar the official (RDC) SDE release and then untarring the package and then necessitating editing the paths it will do all that automatically. "
      },
      {
        "user": "alexandergall",
        "created_at": "2025-02-23T10:18:42Z",
        "body": "I should have mentioned that I used my own build system to test this patch. That's why I didn't notice  the issue with the `p4studio` tool. If we agree that the patch as such is correct I would be in favor of tracking the problem with the setup tool separately. "
      },
      {
        "user": "ansamalintel",
        "created_at": "2025-02-24T01:26:52Z",
        "body": "I have approved the change. In the mean time, I will review the script after comparing the open source repo with internal repo. "
      },
      {
        "user": "jafingerhut",
        "created_at": "2025-02-24T17:44:00Z",
        "body": "> Just to summarize my review:\r\n> \r\n> 1. The proposed changes are correct and necessary to get the patching going. The current `hw/rdc_setup.sh` script does not seem to be correct in the first place. Since this is the title of the pull request, I think it can be approved, since that's exactly what it does.\r\n> 2. Despite those changes, there are at least two more issues with the `p4studio` tool that prevent the actual build for the HW from happening. I am fairly certain that they are not related to the changes in this PR and have been there from the very beginning (@pkotikal -- was that tested in the first place)? W can file them separately and work on them in the due course.\r\n> 3. We can also file an enhancement request for the `hw/rdc_setup.sh` script, where instead of requiring the user to manually untar the official (RDC) SDE release and then untarring the package and then necessitating editing the paths it will do all that automatically.\r\n\r\nThis PR has been approved, and I do not personally know of a reason to delay merging it.\r\n\r\nIf it is merged in its current form, it would be great if we could track your items 2 and 3 above as separate issues."
      }
    ],
    "satisfaction_conditions": [
      "Correct file paths for copying proprietary files from Intel's SDE package",
      "Inclusion of the libavago pre-built binaries",
      "A script that runs without file copy errors when executed",
      "Fixes to typos in the original script",
      "Compatibility with the Tofino reference platform build process"
    ],
    "_classification": {
      "category": "Does not need build environment",
      "timestamp": "2025-04-14 00:59:59"
    }
  }
]