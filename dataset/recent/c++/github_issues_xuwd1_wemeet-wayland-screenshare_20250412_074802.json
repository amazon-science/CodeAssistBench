[
  {
    "number": 13,
    "title": "Simple lock-free framebuffer read & write",
    "created_at": "2024-12-11T03:49:13Z",
    "closed_at": "2024-12-14T15:28:17Z",
    "commit_id": "91b0ee8d69d522a4c5e3868ea3b493c41c66618b",
    "labels": [],
    "url": "https://github.com/xuwd1/wemeet-wayland-screenshare/pull/13",
    "body": "ä¸å¤ªæ¸…æ¥š README ä¸­æ‰€è¿°åŠŸç‡æ˜¯å¦‚ä½•æµ‹å¾—çš„ï¼Œå› æ­¤æˆ‘å¹¶æœªæµ‹è¯•å®é™…çš„æ€§èƒ½æå‡ã€‚\r\n\r\n~æ— é”çš„åŒç¼“å­˜åŒºåº”è¯¥ä¼šå¸¦æ¥ä¸€äº›æå‡ï¼Ÿ~ æˆ‘å¾ˆä¹æ„è¡¥å……æˆ‘æœ¬åœ°çš„æ€§èƒ½æµ‹è¯•ç»“æœï¼Œå¦‚æœä½ å¯ä»¥å‘Šè¯‰æˆ‘å¦‚ä½•è¯„ä¼°æ€§èƒ½çš„è¯ã€‚\r\n\r\n---\r\n\r\næ­¤å¤–ï¼Œæˆ‘å¹¶æœªä»”ç»†æ£€æŸ¥ä¸Šä¸‹æ–‡çš„æ³¨é‡Šæ˜¯å¦æ¸…ç†/ä¿®æ”¹å¦¥å½“ï¼Œå¦‚æœ‰ä¸å¦¥ï¼Œæ•¬è¯·æŒ‡æ­£ã€‚",
    "comments_url": "https://api.github.com/repos/xuwd1/wemeet-wayland-screenshare/issues/13/comments",
    "author": "Coekjan",
    "comments": [
      {
        "user": "xuwd1",
        "created_at": "2024-12-11T07:22:24Z",
        "body": "è°¢è°¢ä½ çš„å·¥ä½œï¼ä¸è¿‡ï¼Œæˆ‘è®¤ä¸ºç°åœ¨çš„æ”¹åŠ¨è¿˜å­˜åœ¨ä¸€äº›é—®é¢˜. æˆ‘æƒ³é¦–å…ˆè¯´æ˜ä¸€ä¸‹ä¸ºä½•ç°åœ¨çš„è®¾è®¡ä¸­é‡‡ç”¨äº†é”ï¼š\r\n- å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬çš„ä»£ç ä¸­framebufferçš„å‚æ•°æ˜¯è·Ÿéšpwçš„å‚æ•°å˜åŒ–çš„\r\n- åœ¨æ•´ä¸ªä»payloadå†™å…¥ï¼Œåˆ°hookè¯»å‡ºçš„è¿‡ç¨‹ä¸­ï¼Œä»å§‹è‡³ç»ˆæˆ‘ä»¬åªåˆ©ç”¨fbä¸­çš„ä¸€å—å†…å­˜ä½œä¸ºä¸­è½¬\r\n- fbçš„å‚æ•°æ›´æ–°å¯èƒ½ä¼šä½¿å¾—fbçš„å†…å­˜å‘ç”Ÿé‡åˆ†é…. æ›´å…·ä½“åœ°ï¼Œå¯¼è‡´é‡åˆ†é…çš„å‚æ•°æ›´æ–°ä¸»è¦æ˜¯pwæŠ¥å‘Šçš„åˆ†è¾¨ç‡å‘ç”Ÿäº†å˜åŒ–ï¼Œæœ‰ä¸¤ç§ä¸»è¦æƒ…å½¢ï¼ša. fbçš„åˆå§‹å‚æ•°å’Œå¼€å§‹å½•åˆ¶åçš„å®é™…å‚æ•°ä¸ä¸€è‡´ï¼Œæ¯”å¦‚ç”¨æˆ·ä½¿ç”¨çš„æ˜¯ä¸€å—2160på±å¹•. b. ç”¨æˆ·å½•åˆ¶çš„æ˜¯ä¸€ä¸ªçª—å£ï¼Œå½•åˆ¶å¼€å§‹åç”¨æˆ·æ”¹å˜äº†çª—å£çš„å½¢çŠ¶\r\n- å› æ­¤ï¼Œåœ¨å­˜åœ¨è¿™ç§é‡åˆ†é…çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¿…é¡»è¦è®¾æ³•ä¿è¯ï¼Œhookåœ¨è¯»å–fbæ—¶ï¼Œfbçš„å†…å­˜å—**ä¸ä¼šè¢«é‡åˆ†é…**. å¦åˆ™æˆ‘ä»¬ä¸€å®šä¼šé‡åˆ°segfault.\r\n\r\næ­£æ˜¯åŸºäºå¦‚ä¸Šçš„åŸå› ï¼Œæˆ‘æœ€åå°±é‡‡ç”¨äº†åŠ é”çš„æ–¹æ¡ˆ. æˆ‘å¯ä»¥ç†è§£æœ¬PRçš„æ”¹åŠ¨ä¸­å°è¯•å°†é”æ¢ä¸ºå…·æœ‰ä¸€è‡´æ€§ä¿è¯çš„åŸå­å˜é‡çš„åŠ¨æœºï¼Œå¹¶ä¸”åŒç¼“å†²çš„ç¡®ä¹Ÿæ‹‰é•¿äº†ä¾èµ–è·ç¦»ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºç°åœ¨çš„è®¾è®¡çš„ä¸€ä¸ªæ˜¾è‘—é—®é¢˜æ˜¯å…¶æ— æ³•ä¿è¯åŒç¼“å†²ä¸å­˜åœ¨**ç¿»è½¬**. æˆ‘ä»¬è®¾æƒ³ä¸€ä¸ªåœºæ™¯ï¼š\r\n\r\n1. hookå¼€å§‹è¯»fb Aï¼Œä½†ç”±äºæŸç§åŸå› å®ƒè¯»çš„æ¯”è¾ƒæ…¢ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸€ç›´åˆ°æœ€åéƒ½æ²¡èƒ½ç»“æŸ\r\n2. payloadå†™å®Œäº†å¦ä¸€å—fb B\r\n3. payloadåˆæ‰“ç®—å¼€å§‹å†™fb Aï¼Œå¹¶ä¸”ç”¨æˆ·æ°å¥½æœ€å¤§åŒ–äº†çª—å£\r\n4. fb Aæ”¹å˜å‚æ•°ï¼Œç¨‹åºå´©æºƒ\r\n\r\nå› æ­¤ï¼Œæˆ‘è®¤ä¸ºè¦å–æ¶ˆé”ï¼Œä»…é æ”¹ä¸ºåŸå­å˜é‡æ˜¯ä¸å¤Ÿçš„. æˆ‘ä»¬çœŸæ­£éœ€è¦çš„å…¶å®æ˜¯æ”¹å˜è¿™å¥—ä¾èµ–äºé‡åˆ†é…çš„é€»è¾‘ï¼Œæˆ–è€…åœ¨å°½é‡é¿å…é‡åˆ†é…çš„åŒæ—¶å›´ç»•é‡åˆ†é…å®ç°ä¸€å¥—å®‰å…¨é€»è¾‘. \r\n\r\næœ€åè¿˜æ˜¯è°¢è°¢ä½ çš„å·¥ä½œï¼Œä½†æˆ‘è®¤ä¸ºæˆ‘ä»¬ç›®å‰çš„ç¡®éœ€è¦æ›´å¤šåŠªåŠ›æ‰èƒ½å°†é”å–æ¶ˆ.\r\n\r\næœ€åï¼Œå…³äºåŠŸè€—ç›‘æµ‹çš„æ–¹æ³•ï¼Œwindowsä¸Šæˆ‘ä¸»è¦ä½¿ç”¨hwinfo64è§‚å¯ŸåŠŸè€—ï¼Œè€Œlinuxä¸Šæˆ‘ç”¨çš„ä¸»è¦æ˜¯amdgpu_top. intelå¹³å°ä¸Šåº”å½“ä¹Ÿæœ‰ç›¸ä¼¼çš„å·¥å…·ï¼ˆæˆ‘è®°å¾—æœ‰ä¸€ä¸ªä¾èµ–äºå†…æ ¸æ¨¡å—çš„ï¼Œéå¸¸è¯¦ç»†çš„å·¥å…·ï¼Œç”šè‡³èƒ½è§‚å¯Ÿä¸€äº›hw counterï¼Œä½†æˆ‘å¿˜è®°å«ä»€ä¹ˆäº†.ï¼‰"
      },
      {
        "user": "xuwd1",
        "created_at": "2024-12-11T08:25:21Z",
        "body": "æˆ‘è¿˜æƒ³é¢å¤–è¡¥å……ä¸€ç‚¹æƒ³æ³•ï¼š\r\n1. æˆ‘æƒ³ä¹Ÿè®¸æˆ‘ä»¬å¯ä»¥å®ç°æŸç§â€œhuge bufferâ€. æ¯”å¦‚ï¼Œæˆ‘ä»¬è®©è¿™ä¸ªhuge bufferè¶³å¤Ÿçš„å¤§ï¼ˆsay, like maybe 8192x8192ï¼‰ï¼Œè¿™æ ·åº”è¯¥å°±èƒ½ä½¿å¾—ç»å¤§å¤šæ•°ï¼ˆæˆ–è€…å¯ä»¥è¯´æ‰€æœ‰ï¼‰æƒ…å†µä¸‹æ‰€éœ€è¦çš„buffer sizeéƒ½æ¯”è¿™ä¸ªhuge bufferå°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä¿è¯è‡³å°‘æˆ‘ä»¬å§‹ç»ˆéƒ½åœ¨å®‰å…¨çš„åœ°å€ç©ºé—´é‡Œ. ç„¶åï¼Œæˆ‘ä»¬è®¤ä¸ºæ‰€æœ‰è¶…å‡ºè¿™ä¸ªbuffer sizeçš„éƒ½æ˜¯éæ³•æƒ…å†µï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ°¸è¿œéƒ½ä¸éœ€è¦é‡åˆ†é…äº†. ä¸è¿‡è¿™æ ·ä¹Ÿæ˜¯ä¸ªå¾ˆç³Ÿç³•çš„æ–¹æ¡ˆï¼Œå…‰æ˜¯è¿™ä¸ªhuge bufferæˆ‘ä»¬å°±éœ€è¦æ¶ˆè€—æˆ‘ä»¬256Mçš„å†…å­˜. ä¸è¿‡æ„Ÿè§‰è¿™ä¸ªæ–¹æ¡ˆä¹Ÿå¯ä»¥è¿›ä¸€æ­¥ç»†åŒ–ï¼Œæ¯”å¦‚æˆ‘ä»¬å…ˆå€ŸåŠ©XRRçœ‹ä¸€ä¸‹ç”¨æˆ·çš„æ˜¾ç¤ºå™¨åˆ†è¾¨ç‡ï¼ˆä»£ç ä¸­å·²ç»æœ‰è¿™ç§åŠŸèƒ½ï¼‰ï¼Œç„¶åæ ¹æ®è¿™ä¸ªåˆ†è¾¨ç‡å†³å®šä¸€ä¸ªâ€œæ›´å¤§ï¼Œä½†ä¸å¤ªå¤§ (like 1.5 times of the largest screen size, or simply the whole X framebuffer size)â€çš„huge buffer size.\r\n2. æˆ–è€…æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ç§\"multi-buffer pyramids\"ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬äº‹å…ˆå‡†å¤‡ä¸€ç³»åˆ—å°çš„ï¼Œä¸åŒå°ºå¯¸çš„bufferï¼Œåœ¨å‚æ•°å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæˆ‘ä»¬åªåœ¨è¿™äº›bufferçš„èŒƒå›´å†…é€‰æ‹©åˆé€‚çš„buffer. é‚£ä¹ˆå³ä½¿å‚æ•°å‘ç”Ÿå˜åŒ–ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒæ•´æŒ‡é’ˆæŒ‡å‘çš„å®é™…buffer."
      },
      {
        "user": "Coekjan",
        "created_at": "2024-12-11T08:31:05Z",
        "body": "æ„Ÿè°¢ä½ çš„æŒ‡æ­£ã€‚é’ˆå¯¹â€œé¿å…é‡åˆ†é…â€çš„é—®é¢˜ï¼Œæ˜¯å¦å¯ä»¥è€ƒè™‘ä»…å‘ kernel ç”³è¯· huge buffer é‚£ä¹ˆå¤§çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ï¼ŒçœŸæ­£ç”¨åˆ°æ—¶ï¼Œkernel ç†åº”ä¼šè‡ªåŠ¨ï¼ˆæŒ‰é¡µ/æŒ‰å¤§é¡µï¼‰åˆ†é…ç‰©ç†å†…å­˜ï¼Ÿ"
      },
      {
        "user": "xuwd1",
        "created_at": "2024-12-11T08:34:23Z",
        "body": "@Coekjan æ„Ÿè§‰è¿™ä¸ªåº”è¯¥å°±æ˜¯basically how VM works. ä½†æ˜¯æˆ‘æ„Ÿè§‰æˆ‘ä»¬åº”è¯¥è‡³å°‘éœ€è¦é¦–å…ˆå¯¹è¿™å—bufferå…¨éƒ¨å¡«0ï¼Œé‚£ä¹ˆæœ€åè¿˜æ˜¯éœ€è¦æ¶ˆè€—è¿™ä¹ˆå¤šå†…å­˜. ä¸è¿‡åˆšæ‰æƒ³äº†ä¸‹æ„Ÿè§‰æ ¹æ®å±å¹•å°ºå¯¸é€‰æ‹©å°ºå¯¸åº”è¯¥æ˜¯ä¸ªæ¯”è¾ƒåˆç†çš„æ–¹æ¡ˆ. ï¼ˆæ¯•ç«Ÿï¼Œcompositoræœ¬èº«ä¹Ÿæ˜¯è¦æ¶ˆè€—è¿™ä¹ˆå¤šå†…å­˜çš„ï¼‰"
      },
      {
        "user": "Coekjan",
        "created_at": "2024-12-11T08:36:59Z",
        "body": "> ä½†æ˜¯æˆ‘æ„Ÿè§‰æˆ‘ä»¬åº”è¯¥è‡³å°‘éœ€è¦é¦–å…ˆå¯¹è¿™å—bufferå…¨éƒ¨å¡«0ï¼Œé‚£ä¹ˆæœ€åè¿˜æ˜¯éœ€è¦æ¶ˆè€—è¿™ä¹ˆå¤šå†…å­˜.\r\n\r\nä¸å¯ä»¥å¦å¤–ç»´æŠ¤â€œé•¿åº¦â€ä¹ˆï¼Œè¿™æ ·å­ reader å’Œ writer åœ¨ `data_size` ä¸å˜åŒ–æ—¶åªè®¿é—®â€œé•¿åº¦â€å†…çš„åŒºåŸŸï¼Œå½“éœ€è¦è®¿é—®â€œé•¿åº¦â€å¤–çš„åŒºåŸŸæ—¶ï¼Œå†è¿›è¡Œåˆå§‹åŒ–ï¼ˆå¡« 0ï¼‰ã€‚"
      },
      {
        "user": "xuwd1",
        "created_at": "2024-12-11T08:39:46Z",
        "body": "@Coekjan å•Šï¼Œè¿™ä¹Ÿå°±æ˜¯è¯´åœ¨å‚æ•°æ›´æ–°æ—¶å¦‚æœéœ€è¦å†å»å¡«0ï¼Œé‚£æˆ‘è§‰å¾—çš„ç¡®æ˜¯ä¸ªè¿˜ä¸é”™çš„ä¸»æ„. è€Œä¸”æ— è®ºå¦‚ä½•æ„Ÿè§‰æœ€å¤š256Mçš„æ¶ˆè€—åº”è¯¥ä¹Ÿè¿˜ç®—æ˜¯ä¸€ä¸ªå¯ä»¥æ¥å—çš„èŒƒå›´.ğŸ˜‰"
      },
      {
        "user": "Coekjan",
        "created_at": "2024-12-11T09:33:34Z",
        "body": "> ä½†æ˜¯æˆ‘æ„Ÿè§‰æˆ‘ä»¬åº”è¯¥è‡³å°‘éœ€è¦é¦–å…ˆå¯¹è¿™å—bufferå…¨éƒ¨å¡«0\r\n\r\nå¡« 0 çœŸçš„æ˜¯å¿…è¦çš„ä¹ˆï¼ˆä¸»åˆ†æ”¯ä¸Šçš„ä»£ç ä¼¼ä¹ä¹Ÿæ²¡æœ‰å°† buffer åˆå§‹åŒ–ä¸º 0ï¼‰ï¼Œæˆ‘ç°åœ¨å°è¯•äº†ä¸€ä¸‹ï¼Œä¼¼ä¹ä¸å¡« 0 ä¹Ÿä¸ä¼šå‡ºå¤§é—®é¢˜ï¼Ÿreader å°½ç®¡åœ¨ä¸€å¼€å§‹è¯»åˆ°äº†æœªåˆå§‹åŒ–çš„æ•°æ®ï¼Œä½†ç”±äº writer äº§ç”Ÿæ•°æ®çš„é€Ÿåº¦è¶³å¤Ÿå¿«ï¼Œæ‰€ä»¥ç”¨æˆ·å¤§æ¦‚ä¸ä¼šæ„ŸçŸ¥åˆ°è¿™ä¸ªâ€œä¸å¯é¢„çŸ¥â€çš„ frameã€‚"
      },
      {
        "user": "xuwd1",
        "created_at": "2024-12-11T09:47:28Z",
        "body": "@Coekjan åˆšæ‰çœ‹äº†ä¸€ä¸‹ï¼Œæ˜¯æˆ‘è®°é”™äº†ï¼Œæˆ‘ä»¬ç›®å‰æ˜¯å¯¹ximageå¡«0çš„ï¼š\r\n```\r\n  CvMat ximage_cvmat;\r\n  OpencvDLFCNSingleton::cvInitMatHeader(\r\n    &ximage_cvmat, ximage_height, ximage_width,\r\n    CV_8UC4, image.data, ximage_bytes_per_line\r\n  );\r\n  OpencvDLFCNSingleton::cvSetZero(&ximage_cvmat);\r\n```\r\n\r\nè¿™æ ·çš„è¯ä½ è¯´çš„æ˜¯å¯¹çš„ï¼Œæˆ‘ä»¬çš„ç¡®å¯ä»¥ä¸å»ç®¡bufferçš„å†…å®¹.ğŸ˜ƒ"
      },
      {
        "user": "Coekjan",
        "created_at": "2024-12-11T10:01:40Z",
        "body": "è¯·æŸ¥æ”¶æœ€æ–° push çš„ç‰ˆæœ¬ï¼š\r\n1. ä½¿ç”¨äº† huge buffer çš„æ€è·¯ï¼Œä¸éœ€è¦åˆå§‹åŒ–å€¼ï¼Œå› æ­¤ä»…å æ®è™šæ‹Ÿå†…å­˜ï¼Œå¹¶ä¸ä¼šå¯¼è‡´ç‰©ç†å†…å­˜å¼€é”€å˜å¤§ï¼›\r\n2. å®Œå…¨ç§»é™¤äº†å¯¹åº”çš„ mutexã€‚"
      },
      {
        "user": "xuwd1",
        "created_at": "2024-12-11T10:06:00Z",
        "body": "è°¢è°¢ä½ çš„åŠªåŠ›ï¼Œç›®å‰çš„ç‰ˆæœ¬çœ‹èµ·æ¥è¿˜ä¸é”™ï¼Œæˆ‘æƒ³è¿™æ ·çš„è¯æˆ‘ä»¬çš„hookçš„æ•ˆç‡ä¼šæœ‰æå‡ã€‚æˆ‘æ™šäº›æ—¶å€™ä¼šå†æ£€æŸ¥å’Œæµ‹è¯•ä¸€ä¸‹ï¼Œå¦‚æœæ²¡é—®é¢˜çš„è¯æˆ‘ä¼šç€æ‰‹åˆå¹¶ï¼Œå¹¶ä¸”å¯èƒ½ä¼šç«‹å³åšä¸€ä¸ªcommitåšä¸€äº›å¾®å°çš„è°ƒæ•´ï¼Œè°¢è°¢ï¼"
      },
      {
        "user": "DerryAlex",
        "created_at": "2024-12-11T12:48:19Z",
        "body": "çœŸçš„æœ‰åŒç¼“å­˜åŒºå—ï¼Ÿæ€ä¹ˆçœ‹ç€åªæ˜¯æŠŠé”å»æ‰äº†ï¼Œå¹¶æŠŠ buffer æ”¹æˆäº†å›ºå®šå¤§å°\r\n\r\nçœŸå®ç° ring buffer çš„è¯ï¼Œä¹Ÿä¸èƒ½å®Œå…¨å»æ‰ lock, ä¸è¿‡åªé” `buffer[read_index]` åº”è¯¥èƒ½é™ä½å†²çªçš„æ¦‚ç‡ï¼Œè¿˜æ˜¯éœ€è¦å®éªŒæ¥æµ‹è¯•ä¸€ä¸‹ã€‚\r\n\r\nå¦å¤–å¯ä»¥å¯¹æ¯å¸§éƒ½å­˜ä¸€ä¸‹æ ¼å¼å§ï¼Œè¿™æ ·ä¹Ÿä¸éœ€è¦ huge buffer çš„ workaround\r\n\r\n "
      },
      {
        "user": "Coekjan",
        "created_at": "2024-12-11T12:51:57Z",
        "body": "> çœŸçš„æœ‰åŒç¼“å­˜åŒºå—ï¼Ÿæ€ä¹ˆçœ‹ç€åªæ˜¯æŠŠé”å»æ‰äº†ï¼Œå¹¶æŠŠ buffer æ”¹æˆäº†å›ºå®šå¤§å°\r\n\r\n1. æ²¡æœ‰åŒç¼“å†²åŒºã€‚\r\n2. buffer æ”¹æˆå›ºå®šå¤§å°ï¼ˆè¶³å¤Ÿå¤§ï¼‰ï¼Œä½¿å¾—ä¸éœ€è¦æ‰€è°“çš„â€œé‡åˆ†é…â€ï¼Œå› æ­¤ä¸éœ€è¦é”æ¥ä¿è¯ read è¿‡ç¨‹ä¸­ framebuffer ä¸è¢«â€œé‡åˆ†é…â€ã€‚åŒæ—¶ï¼Œè¿™è¶³å¤Ÿå¤§çš„ buffer å¹¶ä¸ä¼šå¸¦æ¥ä»¤äººæ‹…å¿§çš„å†…å­˜å¼€é”€ï¼Œå› ä¸ºåªæœ‰çœŸæ­£ç”¨åˆ°å¯¹åº”è™šæ‹Ÿé¡µé¢ï¼Œkernel æ‰ä¼šåˆ†é…ç‰©ç†å†…å­˜ã€‚\r\n\r\n---\r\n\r\nè¡¥å……ï¼šæˆ‘ç†è§£åŸä»£ç ä¸­é”åªæ˜¯ä¸ºäº†é¿å…â€œé‡åˆ†é…â€ä½¿å¾—æ­£è¯»å– buffer çš„çº¿ç¨‹è®¿é—®æ— æ•ˆå†…å­˜ã€‚"
      },
      {
        "user": "DerryAlex",
        "created_at": "2024-12-11T13:12:07Z",
        "body": "> è¡¥å……ï¼šæˆ‘ç†è§£åŸä»£ç ä¸­é”åªæ˜¯ä¸ºäº†é¿å…â€œé‡åˆ†é…â€ä½¿å¾—æ­£è¯»å– buffer çš„çº¿ç¨‹è®¿é—®æ— æ•ˆå†…å­˜ã€‚\r\n\r\nä¸€éƒ¨åˆ†æ•°æ®æ˜¯ä¸Šä¸€å¸§çš„ï¼Œå¦å¤–ä¸€éƒ¨åˆ†æ•°æ®æ˜¯ä¸‹ä¸€å¸§çš„ä¹Ÿä¸è¡Œå§"
      },
      {
        "user": "Coekjan",
        "created_at": "2024-12-11T13:23:15Z",
        "body": "> ä¸€éƒ¨åˆ†æ•°æ®æ˜¯ä¸Šä¸€å¸§çš„ï¼Œå¦å¤–ä¸€éƒ¨åˆ†æ•°æ®æ˜¯ä¸‹ä¸€å¸§çš„ä¹Ÿä¸è¡Œå§\r\n\r\nå¦‚æœç”¨ç›®å‰ PR çš„ä»£ç ï¼Œç†è®ºä¸Šæ˜¯å¯èƒ½ä¼šå‡ºç°è¿™ç§æƒ…å†µçš„ã€‚ç”±äºæˆ‘æœ¬åœ°æµ‹è¯•æ—¶ï¼Œå‡ ä¹æ„ŸçŸ¥ä¸åˆ°è¿™ç§ç°è±¡ï¼Œè¿™ç§ç°è±¡ä¹Ÿè®¸å¹¶ä¸é‚£ä¹ˆâ€œé”™è¯¯â€ï¼Œæ‰€ä»¥è¿˜æ˜¯å®Œå…¨ç§»é™¤äº†é”ã€‚å½“ç„¶ï¼Œè‹¥ç»´æŠ¤è€…è®¤ä¸ºåº”å½“æåŠ›é¿å…è¿™ç§ç«æ€ï¼Œæˆ‘è®¤ä¸ºå¯ä»¥è€ƒè™‘æ”¹ä¸ºåŒç¼“å†²åŒºå®ç°ã€‚"
      },
      {
        "user": "xuwd1",
        "created_at": "2024-12-11T14:01:56Z",
        "body": "æˆ‘è§‰å¾—å¦‚æœæµ‹è¯•ä¸‹æ¥å‡ ä¹ä¸ä¼šæœ‰å¯å¯Ÿè§‰åˆ°çš„å‰¯ä½œç”¨çš„è¯ï¼Œå»é™¤é”å¯¹äºæ”¹å–„æ•ˆç‡å’ŒåŠŸè€—åº”å½“æ˜¯æœ‰æ­£é¢ä½œç”¨çš„ã€‚ä¸è¿‡æ—¢ç„¶å¦ä¸€ä½è´¡çŒ®è€…æœ‰äº›ç–‘è™‘ï¼Œé‚£æˆ‘å°±å¤šè¿›è¡Œäº›æµ‹è¯•. ä¸è¿‡ç”±äºè¿‘æ—¥ä»“åº“çªç„¶æ„Ÿè§‰çƒ­åº¦å¢åŠ äº†ä¸å°‘ï¼Œæœ¬PRçš„å¤„ç†é€Ÿåº¦å¯èƒ½ä¹Ÿè¦ç¨å¾®æ”¾ç¼“ä¸€ç‚¹ï¼ˆç”±äºæˆ‘ä¹Ÿæœ‰æœ¬èŒå·¥ä½œè¦åšï¼‰ï¼Œé¢„è®¡å¯èƒ½æœ€æ™šä¼šåˆ°æœ¬å‘¨æœ«å¤„ç†ï¼Œè¿˜å¸Œæœ›@Coekjan ç†è§£.ğŸ¥²"
      },
      {
        "user": "xuwd1",
        "created_at": "2024-12-14T15:26:53Z",
        "body": "ç»è¿‡æµ‹è¯•å¯ä»¥éªŒè¯è‡³å°‘åœ¨um5606wa (HX370) çš„æ€§èƒ½æ¨¡å¼ä¸‹ï¼Œhugebufferçš„æ–¹æ³•å¯ä»¥é™ä½2Wçš„å°è£…åŠŸè€—(which is huge imho)ï¼Œä½†åœ¨å®‰é™æ¨¡å¼ä¸‹ï¼ˆå°è£…åŠŸè€—åŒæ ·å¤§çº¦ä¸º4.7Wï¼‰åŠŸè€—å‡ ä¹æ²¡æœ‰åŒºåˆ«. ä½†æˆ‘è®¤ä¸ºè¿™è¯´æ˜æˆ‘ä»¬å€¼å¾—ç”¨è¿™ä¸ªç®€å•çš„æ‰‹æ®µå®Œå…¨ç§»é™¤mutexï¼Œæ„Ÿè°¢@Coekjan çš„å·¥ä½œï¼ä½†ä¸è¿‡ç”±äºæˆ‘æ„Ÿè§‰ä»£ç ä¸­æœ‰å¤šå¤„å®ç°éœ€è¦ç•¥å¾®è°ƒæ•´ï¼Œæš‚æ—¶å…ˆåˆå…¥`hugebuffer` branchåšè¿›ä¸€æ­¥ä¿®æ”¹ï¼Œéšåå¹¶å…¥`master`."
      },
      {
        "user": "xuwd1",
        "created_at": "2024-12-14T15:34:35Z",
        "body": "å¾…æˆ‘ä¿®æ”¹å®Œæ¯•å¹¶å°†`hugebuffer`åˆå…¥`master`åï¼Œæˆ‘ä¼šå¯¹`README.md`è¿›è¡Œç›¸åº”çš„è°ƒæ•´ä»¥ä¿®æ­£å…¶ä¸­çš„è¯´æ˜å¹¶å¢åŠ ç›¸åº”çš„creditsï¼Œè°¢è°¢ï¼"
      }
    ],
    "satisfaction_conditions": [
      "A solution that eliminates mutex locks while maintaining memory safety",
      "A performance improvement that reduces power consumption",
      "A solution that prevents memory reallocation issues during framebuffer parameter changes",
      "An implementation that doesn't require excessive physical memory consumption",
      "Information about how to measure power consumption for performance testing"
    ],
    "_classification": {
      "category": "Does not need build environment",
      "timestamp": "2025-04-14 01:00:27"
    }
  },
  {
    "number": 1,
    "title": "å…³äº OpenCV",
    "created_at": "2024-11-21T08:09:57Z",
    "closed_at": "2024-11-25T19:52:35Z",
    "commit_id": "c3d9465e4777e018e3d797965b7321d77bd9fbf2",
    "labels": [],
    "url": "https://github.com/xuwd1/wemeet-wayland-screenshare/issues/1",
    "body": "ä½ è¯•è¿‡ç”¨ dlopenï¼ˆ`RTLD_LOCAL`ï¼‰æ¥åŠ è½½ opencv åº“å—ï¼Ÿè™½ç„¶æ²¡çœ‹åˆ°å´©æºƒç»†èŠ‚ï¼Œä½†æˆ‘æ€€ç–‘æ˜¯ç¬¦å·å†²çªï¼Œé‚£ä¹ˆ RTLD_LOCAL åº”å½“èƒ½é¿å…ã€‚",
    "comments_url": "https://api.github.com/repos/xuwd1/wemeet-wayland-screenshare/issues/1/comments",
    "author": "lilydjwg",
    "comments": [
      {
        "user": "xuwd1",
        "created_at": "2024-11-21T08:18:37Z",
        "body": "å¥½ä¸»æ„ï¼Œæ„Ÿè°¢å»ºè®®ï¼Œæˆ‘è¿‘æ—¥ä¼šè¯•ä¸€ä¸‹. ä¹‹å‰ä½¿ç”¨çš„æ–¹æ³•éƒ½æ˜¯åœ¨cmakeä¸­é“¾æ¥opencv."
      },
      {
        "user": "xuwd1",
        "created_at": "2024-11-25T19:52:35Z",
        "body": "æœ¬é¡¹ç›®ç°åœ¨å·²ç»æ ¹æ®æè®®å®ç°äº†å¯¹opencvåº“çš„åŠ¨æ€åŠ è½½. å¾—ç›Šäºæ­¤ï¼Œç°åœ¨æœ¬é¡¹ç›®ä¸­çš„å›¾åƒç¼©æ”¾å¯ä»¥ç¡®ä¿aspect ratioæ­£ç¡®äº†ï¼Œæ„Ÿè°¢æè®®ï¼"
      }
    ],
    "satisfaction_conditions": [
      "A solution that resolves symbol conflicts when loading OpenCV libraries",
      "A method that ensures correct aspect ratio in image scaling operations",
      "An alternative approach to the traditional CMake linking method for OpenCV"
    ],
    "_classification": {
      "category": "Does not need build environment",
      "timestamp": "2025-04-14 01:00:40"
    }
  }
]