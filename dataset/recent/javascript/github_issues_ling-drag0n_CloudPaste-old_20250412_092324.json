[
  {
    "number": 15,
    "title": "CF有多个组织时部署报错",
    "created_at": "2024-12-23T05:18:30Z",
    "closed_at": "2024-12-23T11:34:51Z",
    "commit_id": "1833a3c855b914fa47fbc9286b309267179be771",
    "labels": [],
    "url": "https://github.com/ling-drag0n/CloudPaste-old/issues/15",
    "body": "我的Cloudflare账户链接了多个组织，在自动部署该项目时，发生了错误无法完成部署，错误信息如下：\r\n```\r\n✘ [ERROR] More than one account available but unable to select one in non-interactive mode.\r\n  Please set the appropriate `account_id` in your Wrangler configuration file.\r\n  Available accounts are (`<name>`: `<account_id>`):\r\n```\r\n虽然设置了CF_ACCOUNT_ID的环境变量，但仍然提示无法指定账户，麻烦作者排查一下，兼容这种情况",
    "comments_url": "https://api.github.com/repos/ling-drag0n/CloudPaste-old/issues/15/comments",
    "author": "DreamFerry",
    "comments": [
      {
        "user": "ling-drag0n",
        "created_at": "2024-12-23T08:58:57Z",
        "body": "你试试修改一下deploy.yml文件最后的name: Deploy to Cloudflare Workers的env：\r\n```yml\r\n      - name: Deploy to Cloudflare Workers\r\n        uses: cloudflare/wrangler-action@2.0.0\r\n        with:\r\n          apiToken: ${{ secrets.CF_API_TOKEN }}\r\n          command: deploy --var ADMIN_USERNAME:${{ secrets.ADMIN_USERNAME }} --var ADMIN_PASSWORD:${{ secrets.ADMIN_PASSWORD }}\r\n        env:\r\n          CLOUDFLARE_API_TOKEN: ${{ secrets.CF_API_TOKEN }}\r\n          CLOUDFLARE_ACCOUNT_ID: ${{ secrets.CF_ACCOUNT_ID }}\r\n          ADMIN_USERNAME: ${{ secrets.ADMIN_USERNAME }}\r\n          ADMIN_PASSWORD: ${{ secrets.ADMIN_PASSWORD }}\r\n```"
      },
      {
        "user": "DreamFerry",
        "created_at": "2024-12-23T11:28:23Z",
        "body": "> 你试试修改一下deploy.yml文件最后的name: Deploy to Cloudflare Workers的env：\r\n> \r\n> ```yaml\r\n>       - name: Deploy to Cloudflare Workers\r\n>         uses: cloudflare/wrangler-action@2.0.0\r\n>         with:\r\n>           apiToken: ${{ secrets.CF_API_TOKEN }}\r\n>           command: deploy --var ADMIN_USERNAME:${{ secrets.ADMIN_USERNAME }} --var ADMIN_PASSWORD:${{ secrets.ADMIN_PASSWORD }}\r\n>         env:\r\n>           CLOUDFLARE_API_TOKEN: ${{ secrets.CF_API_TOKEN }}\r\n>           CLOUDFLARE_ACCOUNT_ID: ${{ secrets.CF_ACCOUNT_ID }}\r\n>           ADMIN_USERNAME: ${{ secrets.ADMIN_USERNAME }}\r\n>           ADMIN_PASSWORD: ${{ secrets.ADMIN_PASSWORD }}\r\n> ```\r\n\r\n这样修改之后就可以了"
      }
    ],
    "satisfaction_conditions": [
      "A solution that allows deployment to work with multiple Cloudflare organizations",
      "A way to properly specify the Cloudflare account ID during automated deployment",
      "Correct configuration of environment variables in the GitHub Actions workflow file"
    ],
    "_classification": {
      "category": "Does not need build environment",
      "timestamp": "2025-04-14 01:02:09"
    }
  }
]