[
  {
    "number": 17,
    "title": "Cannot find package '.../node_modules/mcp-proxy/dist/MCPProxy.js' when running npx fastmcp dev",
    "created_at": "2025-03-09T18:28:44Z",
    "closed_at": "2025-03-09T21:58:21Z",
    "labels": [],
    "url": "https://github.com/punkpeye/fastmcp/issues/17",
    "body": "I'm trying to run the example server from the repo and am getting the following error with both `npx fastmcp dev src/server.ts`. This also occurs if I build the server and run `npx fastmcp dev dist/server.js`.\n\n```\n$ npx fastmcp dev src/server.ts\n\nnode:internal/modules/run_main:104\n    triggerUncaughtException(\n    ^\nError: Cannot find package '/Users/nbbaier/my-mcp-server/node_modules/mcp-proxy/dist/MCPProxy.js' imported from /Users/nbbaier/my-mcp-server/node_modules/fastmcp/dist/FastMCP.js\n    at legacyMainResolve (node:internal/modules/esm/resolve:204:26)\n    at packageResolve (node:internal/modules/esm/resolve:778:12)\n    at moduleResolve (node:internal/modules/esm/resolve:854:18)\n    at defaultResolve (node:internal/modules/esm/resolve:984:11)\n    at nextResolve (node:internal/modules/esm/hooks:748:28)\n    at resolveBase (file:///Users/nbbaier/.npm/_npx/fd45a72a545557e9/node_modules/tsx/dist/esm/index.mjs?1741544730509:2:3212)\n    at resolveDirectory (file:///Users/nbbaier/.npm/_npx/fd45a72a545557e9/node_modules/tsx/dist/esm/index.mjs?1741544730509:2:3584)\n    at resolveTsPaths (file:///Users/nbbaier/.npm/_npx/fd45a72a545557e9/node_modules/tsx/dist/esm/index.mjs?1741544730509:2:4073)\n    at resolve (file:///Users/nbbaier/.npm/_npx/fd45a72a545557e9/node_modules/tsx/dist/esm/index.mjs?1741544730509:2:4447)\n    at nextResolve (node:internal/modules/esm/hooks:748:28) {\n  code: 'ERR_MODULE_NOT_FOUND'\n}\n\nNode.js v23.9.0\nfile:///Users/nbbaier/.npm/_npx/234164726e649089/node_modules/@modelcontextprotocol/sdk/dist/esm/shared/protocol.js:93\n        const error = new McpError(ErrorCode.ConnectionClosed, \"Connection closed\");\n                      ^\n\nMcpError: MCP error -32000: Connection closed\n    at Client._onclose (file:///Users/nbbaier/.npm/_npx/234164726e649089/node_modules/@modelcontextprotocol/sdk/dist/esm/shared/protocol.js:93:23)\n    at _transport.onclose (file:///Users/nbbaier/.npm/_npx/234164726e649089/node_modules/@modelcontextprotocol/sdk/dist/esm/shared/protocol.js:68:18)\n    at ChildProcess.<anonymous> (file:///Users/nbbaier/.npm/_npx/234164726e649089/node_modules/@modelcontextprotocol/sdk/dist/esm/client/stdio.js:85:77)\n    at ChildProcess.emit (node:events:507:28)\n    at maybeClose (node:internal/child_process:1101:16)\n    at ChildProcess._handle.onexit (node:internal/child_process:305:5) {\n  code: -32000,\n  data: undefined\n}\n\nNode.js v23.9.0\n```",
    "comments_url": "https://api.github.com/repos/punkpeye/fastmcp/issues/17/comments",
    "author": "nbbaier",
    "comments": [
      {
        "user": "nbbaier",
        "created_at": "2025-03-09T18:30:50Z",
        "body": "For reference, this is my `src/server.ts`:\n\n```ts\nimport { FastMCP } from \"fastmcp\";\nimport { z } from \"zod\";\n\nconst server = new FastMCP({\n  name: \"Addition\",\n  version: \"1.0.0\",\n});\n\nserver.addTool({\n  name: \"add\",\n  description: \"Add two numbers\",\n  parameters: z.object({\n    a: z.number(),\n    b: z.number(),\n  }),\n  execute: async (args) => {\n    return String(args.a + args.b);\n  },\n});\n\nserver.start({\n  transportType: \"stdio\",\n});\n\n```"
      },
      {
        "user": "punkpeye",
        "created_at": "2025-03-09T21:59:30Z",
        "body": "I believe this was just a badly resolved dependency. If you update your dependencies and try again, it should be fixed."
      },
      {
        "user": "nbbaier",
        "created_at": "2025-03-10T06:18:48Z",
        "body": "Yeah that worked great, thanks!"
      }
    ],
    "satisfaction_conditions": [
      "A solution that resolves the dependency error for mcp-proxy",
      "A straightforward fix that allows the user to run their FastMCP server",
      "A solution that addresses the dependency resolution without requiring code changes"
    ],
    "_classification": {
      "category": "Can be dockerized without any issue",
      "timestamp": "2025-04-14 01:00:57"
    }
  }
]